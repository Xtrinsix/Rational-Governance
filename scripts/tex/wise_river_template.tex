\documentclass[oneside,openany]{book}  

%%%% Packages and configuration of packages 

\usepackage{titlesec}
\usepackage{fontspec}

\usepackage{xcolor} % Required for specifying custom colours
\colorlet{mdtRed}{red!50!black}

%% add hyperlinks to TOC
\usepackage{hyperref}
\hypersetup{pdfpagemode={UseOutlines},
bookmarksopen=true,
bookmarksopenlevel=0,
hypertexnames=false,
colorlinks=true,% Set to false to disable coloring links
citecolor=magenta,% The color of citations
linkcolor=mdtRed,% The color of references to document elements (sections, figures, etc)
urlcolor=mdtRed,% The color of hyperlinks (URLs)
pdfstartview={FitV},
unicode,
breaklinks=true,
}

%% remove chapter names from headers
% there's probably a better way to do this
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\renewcommand\headrule{}
\setlength{\headheight}{24.7pt}

%%% Formatting
% Chapter formatting
% \titlelabel{\bfseries\Large{\thetitle\quad}}
\newcommand{\sectionbreak}{\clearpage}

\titleformat
{\chapter} % command
[block] % shape
{\bfseries\huge} % format
{\thechapter } % no label
{0.5ex} % sep
{
    \vspace{1ex}
} % before-code
[
\vspace{-0.5ex}%
\rule{\textwidth}{0.3pt}
] % after-code
 
 
\titleformat{\section}
{\Large\bfseries}
{\thesection.}
{1em}{}
\titlespacing*{\section}{0pt}{1pc}{1pc}

% \titleformat{\subsection}
% {\large\bfseries}
% {\thesubsection.}
% {1em}{}
% \titlespacing*{\subsection}{0pt}{1pc}{1pc}
% \titleformat{\subsection}
% {\large\bfseries}
% {\thesubsection.}
% {1em}{}
% \titlespacing*{\subsection}{0pt}{1pc}{1pc}

% \titleformat{\subsubsection}
% {\normalfont\normalsize\itshape\bfseries}
% {\thesubsubsection.}
% {1em}{}
% \titlespacing*{\subsubsection}{0pt}{1pc}{1pc}

\titleformat{\subsubsection}
{\normalfont\normalsize\bfseries}
{\thesubsubsection.}
{1em}{\normalfont\normalsize\bfseries}
\titlespacing*{\subsubsection}{0pt}{1pc}{1pc}
 
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{1}


%%% Commands

% pandoc creates tightlist, which needs to be defined
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\newcommand{\doctitle}{DocumentTitle}  % Replaced by preprocessor
\newcommand{\docsubtitle}{DocumentSubTitle}  % Replaced by preprocessor
\newcommand{\docauthor}{Author}  % Replaced by preprocessor

\renewcommand\maketitle{%
    \begin{center}
        \thispagestyle{empty}
        {\normalfont
        \textsc{\LARGE }\\[2cm]
        \textsc{\Huge\bfseries \doctitle}\\[1cm]
        \textsf{\Large \docsubtitle}\\[1cm]
        \textsf{\small by}\\[1.5cm]
        \textsc{\large \docauthor}\\[0.25cm]
        \textsc{\large \today}\\[1.75cm]
        }
        % \includegraphics[width=0.3\textwidth]{logo.png}  %Insert Your Image Here.
    \end{center}
    \newpage

}

% \raggedright
\hyphenpenalty=750

%%% Content
\begin{document} 
\maketitle                   % Produces the title.
\frontmatter
% \setcounter{part}{0}
% \renewcommand\thepart{\arabic{part}}

\setcounter{secnumdepth}{1}
\setcounter{tocdepth}{2}
\pagenumbering{roman}
\tableofcontents


% \hypertarget{introduction}{%
% \part{Introduction}\label{introduction}}

\input{chapters/1.0.0_introduction}

\mainmatter

\setcounter{secnumdepth}{3}
% \setcounter{tocdepth}{2}
\pagenumbering{arabic}


% \hypertarget{doctrine}{%
% \part{Doctrine}\label{doctrine}}
%% part 2


% \hypertarget{platform}{%
% \part{Platform}\label{platform}}
%% part 3

% \hypertarget{appendices}{%
% \part{Appendices}\label{appendices}}
%% part 4

\end{document}               % End of document.
